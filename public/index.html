<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>7 Steps</title>
    <link href="./main.css" rel="stylesheet" />
    <script src="./main.js" type="text/javascript"></script>
  </head>
  <body>
    <div>
      <h2>Connect to database</h2>
      <p>
        <label>Connection String:</label>
        <input type="password" id="connection-string" required />
        <button id="connect">Connect!</button>
        <input type="checkbox" id="reset" />
        <label> Reset? </label>
      </p>
      <p>
        <i>You can spin up a free PostgreSQL instance here: <a href="https://elephantsql.com">ElephantSql</a></i>
      </p>
      <p>
        <i
          >The "Connect!" button connects to the database and creates a new table if it has yet been created, checking
          "Reset?" forces the recreation of table.</i
        >
      </p>
      <p>
        <i
          ><b>Why do I need this?</b> Each sandbox instance will establish at least 1 connection with the database,
          however, free ElephantSQL database can only support up to 5 concurrent connection, a class of 20 would
          immediately exceed the number of connection.</i
        >
      </p>
    </div>
    <div>
      <h1>Modules</h1>
      <div>
        <h2>Add Module</h2>
        <p>
          <label>Module Code:</label>
          <input type="text" id="module-code" required />
        </p>
        <p>
          <label>Module Credit:</label>
          <input type="number" min="0" step="1" id="module-credit" required />
        </p>
        <p>
          <button id="create-module">Create Module!</button>
        </p>
      </div>
      <div>
        <h2>View Modules</h2>
        <table>
          <thead>
            <tr>
              <th>Id</th>
              <th>Module Code</th>
              <th>Module Credit</th>
              <th>Grade</th>
              <th>Update</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody id="modules"></tbody>
        </table>
        <template id="module-row">
          <tr>
            <td class="row-module-id"></td>
            <td class="row-module-code"></td>
            <td class="row-module-credit"></td>
            <td>
              <select class="row-module-grade">
                <option value="A">A</option>
                <option value="B+">B+</option>
                <option value="B">B</option>
                <option value="C+">C+</option>
                <option value="C">C</option>
                <option value="D+">D+</option>
                <option value="D">D</option>
                <option value="D-">D-</option>
                <option value="F">F</option>
              </select>
            </td>
            <td><button class="row-update">Update</button></td>
            <td><button class="row-delete">Delete</button></td>
          </tr>
        </template>
      </div>
      <div>
        <h2>GPA</h2>
        <h2 id="gpa"></h2>
      </div>
    </div>
  </body>
</html>
